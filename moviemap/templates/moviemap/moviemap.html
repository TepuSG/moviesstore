{% extends 'base.html' %}
{% block content %}
{% load static %}

<link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" />
<script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>

<style>
  #map {
    width: 100%;
    height: 600px;
  }
</style>

<div class="container mt-4">
  <h2 class="mb-4">Movie Map</h2>
  <hr />
  <div id="map"></div>
</div>

<script>
  mapboxgl.accessToken = '{{ template_data.mapbox_key }}';
  const map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11',
    center: [-98.5795, 39.8283], // Centered on USA
    zoom: 6
  });

  map.addControl(new mapboxgl.NavigationControl());
</script>
{% endblock content %}